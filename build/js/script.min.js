(()=>{var e;document.documentElement.classList.add((e=document.createElement("canvas")).getContext&&e.getContext("2d")&&0==e.toDataURL("image/webp").indexOf("data:image/webp")?"webp":"no-webp"),(()=>{let e=document.querySelector(".page__header");document.querySelector(".js-toggle-menu").addEventListener("click",()=>{e.classList.toggle("page__header--opened")})})(),window.addEventListener("scroll",()=>{var e=document.querySelector(".page__header"),t=document.body,o=document.documentElement;1<(o.clientHeight?o:t).scrollTop?e.classList.contains("page__header--offset")||e.classList.add("page__header--offset"):e.classList.remove("page__header--offset")}),(()=>{let s=document.querySelector(".page__header").offsetHeight;document.querySelectorAll('a[href*="#"]').forEach(e=>{var o;(o=e).addEventListener("click",e=>{document.body.classList.contains("page--main")&&e.preventDefault();e=document.querySelector(o.hash);let t=window.scrollY+e.getBoundingClientRect().top-s;0<t&&(t-=20),window.scrollTo({top:t,left:0,behavior:"smooth"}),document.querySelector(".page__header").classList.remove("page__header--opened")})}),window.addEventListener("load",()=>{location.hash&&setTimeout(()=>{document.querySelector(`a[href*="${location.hash}"]`).click()},0)})})(),Fancybox.bind("[data-fancybox]",{closeButton:!1}),document.addEventListener("wpcf7mailsent",e=>{Fancybox.close(),new Fancybox([{src:document.getElementById("popupSuccess"),type:"html",closeButton:!1}])},!1),document.addEventListener("wpcf7mailfailed",e=>{Fancybox.close(),new Fancybox([{src:document.getElementById("popupError"),type:"html",closeButton:!1}])},!1),document.querySelectorAll("video").forEach(e=>{e.addEventListener("click",()=>{e.setAttribute("controls",""),e.play()})}),document.querySelectorAll(".js-problem-collapse").forEach(t=>{t.querySelector(".problem__title").addEventListener("click",e=>{t.classList.toggle("problems__item--open")})}),(()=>{let t=window.matchMedia("(max-width: 1229px)"),o=document.querySelectorAll(".js-post-slide");var e=()=>{let e;t.matches?(o.forEach(e=>{e.classList.add("swiper-slide")}),e=new Swiper(".js-blog-carousel",{loop:!1,spaceBetween:20,slidesPerView:1,navigation:{nextEl:".posts__control--next",prevEl:".posts__control--prev"},breakpoints:{768:{slidesPerView:2}}})):(e&&e.destroy(),o.forEach(e=>{e.classList.remove("swiper-slide"),e.attributeStyleMap.clear()}))};window.addEventListener("load",e),window.addEventListener("resize",e)})(),e=new Swiper(".js-post-gallery-thumbs",{loop:!1,slidesPerView:3,spaceBetween:8,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{slidesPerView:3,scrollbar:{el:".swiper-scrollbar",draggable:!0}},768:{slidesPerView:6}}}),new Swiper(".js-post-gallery",{loop:!1,slidesPerView:1,spaceBetween:0,thumbs:{swiper:e}})})();